(window.webpackJsonp_spotim_2087778507=window.webpackJsonp_spotim_2087778507||[]).push([[2],{391:function(e,t,n){e.exports={card:"card__card___kMxYu",compact:"card__compact___2W1JZ"}},392:function(e,t,n){e.exports={title:"article__title___3-78m",large:"article__large___1yZZv",compact:"article__compact___2EGeM",disableUgc:"article__disableUgc___1CVqI",hover:"article__hover___1Rxye",small:"article__small___3YxTu",commentCountContainer:"article__commentCountContainer___sw1j7",commentSymbol:"article__commentSymbol___1Rihm",commentCount:"article__commentCount___22rvl",comments:"article__comments___qPbsa",commentsIcon:"article__commentsIcon___1jYy8",commentBox:"article__commentBox___1D1LG",contentContainer:"article__contentContainer___3m_-m",isMobileOnly:"article__isMobileOnly___rY_Yq",container:"article__container___QmeJf",image:"article__image___2S6QN",imageContainer:"article__imageContainer___2Sp47",readArticleButton:"article__readArticleButton___3EVwx",readArticleText:"article__readArticleText___B8oMF"}},396:function(e,t,n){e.exports={commentTimestamp:"comment-timestamp__commentTimestamp___wOESz"}},397:function(e,t,n){e.exports={topCommentBadge:"top-comment-badge__topCommentBadge___1g74t",topCommentText:"top-comment-badge__topCommentText___3jvvb",textOverflown:"top-comment-badge__textOverflown___e2Any",tooltiptext:"top-comment-badge__tooltiptext___13s8d",tooltipEnabled:"top-comment-badge__tooltipEnabled___2eXW3",icon:"top-comment-badge__icon___DZpeJ"}},398:function(e,t,n){e.exports={avatar:"avatar__avatar___1--tf"}},399:function(e,t,n){e.exports={commentWrapper:"comment__commentWrapper___1Tvkv",large:"comment__large___Wdp0t",small:"comment__small___1eZJ9",commentHeader:"comment__commentHeader___iIOjS",ovalSeperator:"comment__ovalSeperator___4Sp0L",userName:"comment__userName___3vwgz",subscriberBadge:"comment__subscriberBadge___1eaYT",commentBody:"comment__commentBody___kNrsz",commentFooter:"comment__commentFooter___369GY",like:"comment__like___3Fp8k",animating:"comment__animating___3GWHC","branded-heart-burst":"comment__branded-heart-burst___1vAJe",active:"comment__active___1C1no",noLikes:"comment__noLikes___3f4gK",likeBox:"comment__likeBox___1bJs2"}},439:function(e,t,n){e.exports={carouselContainer:"carousel__carouselContainer___14uXs",isVerticalView:"carousel__isVerticalView___1zOBd",carousel:"carousel__carousel___2l3OZ",isMobileOnly:"carousel__isMobileOnly___2G877",isMobile:"carousel__isMobile___1excp",endSidebar:"carousel__endSidebar___1TGyN",scrolledToEnd:"carousel__scrolledToEnd___98OX6",endSidebarShadow:"carousel__endSidebarShadow___2Pa-l",startSidebar:"carousel__startSidebar___2FDPv",scrolled:"carousel__scrolled___nOoSL",startSidebarShadow:"carousel__startSidebarShadow___2g6GU",endPath:"carousel__endPath___2l6Rk",startPath:"carousel__startPath___28lsR",highlightedBackground:"carousel__highlightedBackground___udPI9",leftButtonContainer:"carousel__leftButtonContainer___jpEIm",rightButtonContainer:"carousel__rightButtonContainer___3XoYR",endOval:"carousel__endOval___3snKn",startOval:"carousel__startOval___y-f8j"}},443:function(e,t,n){e.exports={container:"CompactScrollButton__container___heZs0",left:"CompactScrollButton__left___3PhQ5",right:"CompactScrollButton__right___35k_b",show:"CompactScrollButton__show___3lSt7",halfCircle:"CompactScrollButton__halfCircle___iR7TY",chevron:"CompactScrollButton__chevron___2Ajnd",hover:"CompactScrollButton__hover___1X6Nv"}},448:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(4),o=n.n(c),i=n(0),l=n.n(i),s=n(15),u=n(38),m=n(41),_=n(445),d=n(3),f=n.n(d),p=n(390),v=n.n(p),b=n(18),g=n.n(b),O=n(391),h=n.n(O),E=n(59),C=n.n(E),S=function(e){var t,n=e.width,a=e.compact,c=e.children;return l.a.createElement("div",{style:{width:n},className:(t=h.a.card,C()(t,r()({},h.a.compact,a)))},c)},j=n(32),y=n(109),w=n(392),L=n.n(w),N=["","K","M","B","T"],M=function(e){var t=Math.log10(e)/3|0;if(0===t)return String(e);var n=N[t],a=e/Math.pow(10,3*t),r=a.toFixed(1);return r.endsWith(".0")?a.toFixed(0)+n:r+n},k=function(e){return null!=e},R=function(e){var t=e.className;return l.a.createElement("svg",{className:t,viewBox:"0 0 512 512"},l.a.createElement("path",{d:"M256 64c123.5 0 224 79 224 176S379.5 416 256 416c-28.3 0-56.3-4.3-83.2-12.8l-15.2-4.8-13 9.2c-23 16.3-58.5 35.3-102.6 39.6 12-15.1 29.8-40.4 40.8-69.6l7.1-18.7-13.7-14.6C47.3 313.7 32 277.6 32 240c0-97 100.5-176 224-176m0-32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26 3.8 8.8 12.4 14.5 22 14.5 61.5 0 110-25.7 139.1-46.3 29 9.1 60.2 14.3 93 14.3 141.4 0 256-93.1 256-208S397.4 32 256 32z"}))},T=function(e){return"url(".concat(e,")")},x=n(1);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A,D=f.a.get("tenant_config.pitc.imageQuality",x.k),B=f.a.get("tenant_config.pitc.disableUgc",!1),U=function(e){return B&&(e.gravity="auto",e.resize={aspectRatio:"0.85",type:"fill"}),Object(j.b)(P(P({},e),{},{quality:D}))},z=function(e,t){return e?x.g:t?x.n:x.b},F=function(e){var t=e.title,n=e.imageUrl,a=e.url,c=e.hover,o=e.commentCount,i=e.disableUgc,s=e.compact,u=e.large,_=void 0!==u&&u,d=e.small,f=void 0!==d&&d,p=e.onMouseEnter,v=void 0===p?function(){}:p,b=e.onMouseLeave,g=void 0===b?function(){}:b,O=e.onClick,h=void 0===O?function(){}:O,E=function(e){var t;return C()(e,(t={},r()(t,L.a.large,_&&!i),r()(t,L.a.small,f&&!i),r()(t,L.a.disableUgc,i),r()(t,L.a.hover,c),r()(t,L.a.compact,s),r()(t,L.a.isMobileOnly,m.isMobileOnly),t))},S=k(o)&&"".concat(M(o)," ").concat(1===o?"comment":"comments");return l.a.createElement("div",{className:E(L.a.container),onClick:function(){h(),Object(j.d)(a)},onMouseEnter:v,onMouseLeave:g},l.a.createElement("div",{className:E(L.a.imageContainer)},l.a.createElement("div",{style:{backgroundImage:T(U({url:n,height:z(s,i),dpr:window.devicePixelRatio}))},className:E(L.a.image)})),l.a.createElement("div",{className:E(L.a.contentContainer)},l.a.createElement("div",{className:E(L.a.title)},t),s&&k(o)&&l.a.createElement("div",{className:E(L.a.commentCountContainer)},l.a.createElement(R,{className:E(L.a.commentSymbol)}),l.a.createElement("div",{className:E(L.a.commentCount)},S))))},W=n(393),G=n(394),H=n(395),Y=n(446),V=n(447),Z=n(444),J=n(195),q=n.n(J);!function(e){e.SECONDS="s",e.MINUTES="m",e.HOURS="h",e.DAYS="d",e.YEARS="y"}(A||(A={}));var X=q()((function(e){var t=1e3*e,n=Date.now(),a=Object(W.a)(n,t);if(a<60)return"".concat(a).concat(A.SECONDS);var r=Object(G.a)(n,t);if(r<60)return"".concat(r).concat(A.MINUTES);var c=Object(H.a)(n,t);if(c<24)return"".concat(c).concat(A.HOURS);var o=Object(Y.a)(n,t);if(o<7)return"".concat(o).concat(A.DAYS);var i=Object(V.a)(n,t);return i>1?"".concat(i).concat(A.YEARS):Object(Z.a)(t,"d MMM")})),K=n(396),Q=n.n(K),$=function(e){var t=e.timestamp;return l.a.createElement("span",{className:Q.a.commentTimestamp},X(t))},ee=n(77),te=n(51),ne=n.n(te),ae=function(e){var t=e.className,n=e.display;return l.a.createElement("svg",{style:{display:n},className:t,viewBox:"0 0 12 14"},l.a.createElement("path",{fill:"#DB3737",fillRule:"nonzero",d:"M4.429 14C2.857 13.53.666 11.476.517 9.048.368 6.621 1.2 5.181 2.702 3.56 3.704 2.479 4.415 1.292 4.835 0 6.683 1.454 8.28 4.292 8.28 7.327c.673-.549 1.173-1.355 1.501-2.42 1.391 1.29 2.003 3.278 1.595 5.184C10.97 11.985 9.143 13.53 7.57 14v-.412c1.572-.906 2.59-2.717 2.347-5a5.116 5.116 0 0 1-3.132 1.882c.078-3.045-.39-5.302-1.4-6.771C4.224 5.393 3.14 5.944 2.53 7.327c-1.174 2.66.326 5.355 1.898 6.261V14z"}))},re=n(397),ce=n.n(re),oe=function(e){var t=e.cardWidth,n=e.footerFontSize,a=!ee.a&&t!==x.e.LARGE,r=t===x.e.EXTRA_SMALL?"none":"inline",c=function(e){return g.a.bind(ce.a)(e,{textOverflown:a,tooltipEnabled:Boolean(a)})},o=f.a.get("tenant_config.pitc.topCommentOverride",ne.a.t("pitc.top comment"));return l.a.createElement("div",{className:c(ce.a.topCommentBadge)},l.a.createElement(ae,{display:r,className:c(ce.a.icon)}),l.a.createElement("div",{style:{fontSize:n},className:c(ce.a.topCommentText)},o),l.a.createElement("span",{className:c(ce.a.tooltiptext)},o))},ie=function(e){var t=e.baseUrlUpload,n=e.pathname,a=e.transformations;return"".concat(t,"/").concat(a,"/").concat(n)},le=function(e){var t=e.startsWith("#")?"/".concat("avatars","/").concat(e.slice(1)):"/".concat(e);return U({pathname:t,width:60,height:60,getUrl:ie})},se=n(398),ue=n.n(se),me=l.a.memo((function(e){var t=e.userImageId;return l.a.createElement("img",{className:ue.a.avatar,src:le(t),width:x.A,height:x.z})})),_e=function(e){var t=e.className,n=e.isActive,a=e.onClick,r=e.onMouseLeave;return n?l.a.createElement("svg",{onClick:a,onMouseLeave:r,className:t,viewBox:"0 0 16 15"},l.a.createElement("path",{fillRule:"nonzero",d:"M5.206 14.38C4.702 12.66 4.45 11.2 4.45 10c0-1.02.183-2.14.55-3.354l.002.003c1.307-1.87 1.58-3.113 1.66-5.209C6.697.732 7.183.166 7.81.03 7.89.013 7.971.004 8.052 0c.08-.003.159 0 .24.012.492.07.988.404 1.327 1 .63 1.102.817 2.803.535 4.654h4.732c.72 0 1.095.483 1.114 1.337.005 3.568-2.199 7.399-3.09 7.899a.374.374 0 0 1-.23.085c-3.549-.014-5.087.057-6.024-.04-.468-.048-.811-.156-1.114-.337a3.613 3.613 0 0 1-.336-.23zm-.869.236a.91.91 0 0 1-.11.007H.919A.923.923 0 0 1 0 13.709v-6.58c0-.5.416-.914.919-.914H4.19C3.764 7.578 3.55 8.84 3.55 10c0 1.286.263 2.824.787 4.616z"})):l.a.createElement("svg",{onClick:a,onMouseLeave:r,className:t,viewBox:"0 0 16 15"},l.a.createElement("path",{fillRule:"nonzero",d:"M7.81.03c-.627.136-1.113.702-1.148 1.41-.08 2.096-.353 3.338-1.66 5.21a.92.92 0 0 0-.775-.435H.919A.923.923 0 0 0 0 7.13v6.58c0 .5.416.914.919.914h3.308a.921.921 0 0 0 .764-.411c.19.153.368.29.551.4.303.18.646.288 1.114.336.937.097 2.475.026 6.024.04a.374.374 0 0 0 .23-.085c.891-.5 3.095-4.33 3.09-7.9-.019-.853-.394-1.336-1.114-1.336h-4.732c.282-1.851.095-3.552-.535-4.655-.34-.595-.835-.928-1.326-1a1.307 1.307 0 0 0-.241-.01c-.08.002-.163.01-.242.028zm1.568 5.934c-.04.21.146.435.362.434h5.042c.26.027.489.07.489.686 0 .786-.122 2.164-.751 3.793-.629 1.628-1.567 3.398-1.893 3.34-.884.06-5.101.082-5.896 0-.405-.041-.596-.1-.81-.228-.193-.115-.43-.318-.775-.594v-5.7c1.708-2.16 2.166-3.977 2.251-6.226.246-1.12 1.238-.811 1.585-.097.507 1.801.64 3.332.396 4.592zm-8.46.982h3.309c.108 0 .184.076.184.183v6.58a.175.175 0 0 1-.184.183H.919a.175.175 0 0 1-.184-.183v-6.58c0-.107.076-.183.184-.183z"}))},de=n(399),fe=n.n(de),pe=function(e){var t=e>=x.e.LARGE,n=e<x.e.SMALL;return t?x.q.LARGE:n?x.q.EXTRA_SMALL:x.q.SMALL},ve=n(72),be=n(40),ge=n(50),Oe=n(39),he=Object(Oe.a)("analytics")((function(e){return e.analyticsName})),Ee=function(e){var t=e.className;return l.a.createElement("svg",{className:t,width:"14px",height:"14px",viewBox:"0 0 14 14",version:"1.1"},l.a.createElement("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},l.a.createElement("g",{id:"El-Espanol---Conversation-+-PitC",transform:"translate(-286.000000, -6589.000000)",fill:"#FABB09","fill-rule":"nonzero"},l.a.createElement("g",{id:"noun_Crown_514694-Copy",transform:"translate(286.000000, 6589.000000)"},l.a.createElement("path",{d:"M7,0 C3.12666667,0 0,3.12666667 0,7 C0,10.8733333 3.12666667,14 7,14 C10.8733333,14 14,10.8733333 14,7 C14,3.12666667 10.8733333,0 7,0 Z M10.5,9.05333333 L3.5,9.05333333 L3.5,4.10222222 L5.25777778,6.87016623 L7,4.10222222 L8.74222222,6.87016623 L10.4844444,4.10222222 L10.4844444,9.05333333 L10.5,9.05333333 Z",id:"Shape"})))))},Ce=function(e){var t=e.id,n=e.spotId,a=e.postId,c=e.userName,u=e.userImageId,m=e.writtenAt,_=e.content,d=e.likeCount,f=e.url,p=e.conversationId,v=e.isSubscriber,b=e.large,g=void 0!==b&&b,O=e.small,h=void 0!==O&&O,E=e.onMouseEnter,S=void 0===E?function(){}:E,j=e.onMouseLeave,y=void 0===j?function(){}:j,w=e.onClick,L=void 0===w?function(){}:w,N=Object(i.useState)(!1),k=o()(N,2),R=k[0],T=k[1],I=Object(s.useSelector)(be.b),P=pe(I),A=ge.b(p),D=ge.c(p),B=Object(s.useSelector)(A),U=Object(s.useSelector)(D),z=Object(s.useDispatch)(),F=d+U>0||B,W=M(Math.max(d+U,1)),G=function(e){var t;return C()(e,(t={},r()(t,fe.a.large,g),r()(t,fe.a.small,h),r()(t,fe.a.noLikes,!F),r()(t,fe.a.animating,R&&B),r()(t,fe.a.active,B),t))},H=Object(s.useSelector)(he),Y=Object(i.useCallback)((function(){L(),function(){try{return window.self!==window.top}catch(e){return!0}}()?window.top.location.replace(f):location.assign(f)}),[f]),V=Object(i.useCallback)((function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),T(!B),z(Object(ve.c)(t,!B,n,a,p,H))}),[t,B,n,a,p]);return l.a.createElement("div",{onClick:Y,onMouseEnter:S,onMouseLeave:y,className:G(fe.a.commentWrapper)},l.a.createElement("div",{className:fe.a.commentHeader},l.a.createElement(me,{userImageId:u}),l.a.createElement("span",{className:fe.a.userName},c),v&&l.a.createElement(Ee,{className:fe.a.subscriberBadge}),function(e){return e===x.e.LARGE}(I)&&l.a.createElement(i.Fragment,null,l.a.createElement("span",{className:fe.a.ovalSeperator}),l.a.createElement($,{timestamp:m}))),l.a.createElement("div",{className:G(fe.a.commentBody)},_),l.a.createElement("div",{className:G(fe.a.commentFooter)},l.a.createElement(oe,{cardWidth:I,footerFontSize:P}),l.a.createElement("div",{style:{fontSize:P},className:fe.a.likeBox},l.a.createElement(_e,{className:G(fe.a.like),onClick:V,isActive:B}),F&&l.a.createElement("span",null,W))))};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(){var e=Object(i.useState)(!1),t=o()(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),c=o()(r,2),l=c[0],s=c[1],u=function(e){return a(e)},m=function(e){return s(e)},_={onArticleHover:function(){return u(!0)},onArticleLeave:function(){return u(!1)},onCommentHover:function(){return m(!0)},onCommentLeave:function(){return m(!1)}},d={commentLarge:l,commentSmall:n};return je(je(je({},{articleLarge:n,articleSmall:l,articleHover:n}),d),_)};function we(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Object(i.useRef)(),r=Object(i.useRef)(0);return Object(i.useEffect)((function(){a.current=e}),[e]),Object(i.useEffect)((function(){if(null!==t&&a.current&&n)return r.current=window.setTimeout(a.current,t),function(){return window.clearTimeout(r.current)}}),[t,n]),function(){return window.clearTimeout(r.current)}}var Le=n(400),Ne=n.n(Le),Me=n(123),ke=function(e){return o()(e.content,1)[0].text},Re=function(e){return e.id},Te=function(e,t){var n=e.messageData.users[t.userId],a=n.displayName,r=n.userName;return a||r},xe=function(e,t){var n=e.messageData.users[t.userId].ssoData;return!!n&&n.isSubscriber},Ie=function(e,t){return e.messageData.users[t.userId].imageId},Pe=function(e){return e.writtenAt},Ae=function(e){return e.rank.ranksUp},De=function(e){return e.extractData.url},Be=function(e){return e.extractData.title},Ue=function(e){return e.extractData.thumbnailUrl},ze=function(e){return e.messageData.messagesCount},Fe=n(9),We=function(e,t,n){return r()({},Fe.f,JSON.stringify(function(e,t,n){var a;return a={},r()(a,Fe.e.COMMENT_ID,Re(t)),r()(a,Fe.e.USER_ID,function(e){return e.userId}(t)),r()(a,Fe.e.CONVERSATION_ID,function(e){return e.conversationId}(e)),r()(a,Fe.e.ITEM_NUMBER,n+1),a}(e,t,n)))},Ge=n(52),He=n(107),Ye=function(e,t){return"".concat((n="".concat(Ge.a).concat(Ge.b),Object(He.a)()?n.replace(Ge.b,f.a.get("queryParams.TEAM_ROUTE",Ge.b)):n),"/feed/redirect?url={{URL}}&params={{PARAMS}}").replace("{{URL}}",function(e){return btoa(e)}(e)).replace("{{PARAMS}}",function(e){return btoa(JSON.stringify(e))}(t));var n};function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je,qe=function(e){return function(e){for(var t=Ze({},e),n=0,a=[["type","action"],["guid","device_uuid"]];n<a.length;n++){var r=o()(a[n],2),c=r[0];t[r[1]]=t[c],delete t[c]}return t}(function(e){return Ne()(e,["time_delta","duration"])}(e))},Xe=function(e){var t=e.index,n=e.url,a=function(e){var t=e.index,n=e.clickTargetType,a=e.post,c=e.comment,o=e.trackingData;return Object(Me.preparePayload)(Ze(Ze(Ze({},o),We(a,c,t)),{},r()({type:Fe.a},Fe.n,n)))}({index:t,clickTargetType:e.clickTargetType,post:e.post,comment:e.comment,trackingData:e.trackingData});return Ye(n,qe(a))},Ke=f.a.get("tenant_config.pitc.disable_tracking_params",!1),Qe=f.a.get("tenant_config.pitc.article_ignore_search_params",[]),$e=f.a.get("tenant_config.pitc.comment_ignore_search_params",[]),et=(Je={},r()(Je,Fe.o.ARTICLE,Qe),r()(Je,Fe.o.COMMENT,$e),Je),tt=function(e,t,n,a){for(var r=new URL(e),c=0,i=Object.entries(t);c<i.length;c++){var l=o()(i[c],2),s=l[0],u=l[1];et[n].includes(s)||r.searchParams.set(s,u)}return Ke||(r.searchParams.set("utm_source","spotim"),r.searchParams.set("utm_medium","spotim_recirculation"),a&&(r.searchParams.set("spot_im_redirect_source","pitc"),r.searchParams.set("spot_im_comment_id",a),r.searchParams.set("spot_im_highlight_immediate","true"))),r.href};function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt,ct=function(e){var t=e.index,n=e.post,a=e.spotId,c=e.postId,m=e.conversationId,_=e.disableUgc,d=e.compact,p=Object(s.useDispatch)(),v=Object(u.useTracking)(),b=v.trackEvent,g=v.getTrackingData,O=ye(),h=O.onArticleHover,E=O.onArticleLeave,C=O.onCommentHover,S=O.onCommentLeave,w=O.articleLarge,L=O.articleSmall,N=O.commentLarge,M=O.commentSmall,k=O.articleHover,R=function(e){return o()(e.messageData.comments,1)[0]}(n),T=Re(R),I=function(e){return function(){return b(at(at({type:Fe.g},We(n,R,t)),{},r()({},Fe.n,e)))}},P=Object(i.useState)(!1),A=o()(P,2),D=A[0],B=A[1],U=Object(i.useState)(!1),z=o()(U,2),W=z[0],G=z[1],H=we(I(Fe.o.ARTICLE),750,D),Y=we(I(Fe.o.COMMENT),750,W),V=function(){Object(j.a)(x.p.onCardClick,{url:De(n),title:Be(n)})},Z=g(),J=De(n),q=function(e){var t=J,n=f.a.get("queryParams"),a=e===Fe.o.COMMENT?T:null;try{t=tt(t,n,e,a)}catch(e){console.error(e)}return t},X=function(e){return Xe({url:q(e),clickTargetType:e,post:n,comment:R,index:t,trackingData:Z})};return l.a.createElement(i.Fragment,null,l.a.createElement(F,{onMouseEnter:function(){B(!0),h()},onMouseLeave:function(){E(),H(),B(!1)},onClick:V,large:w,small:L,hover:k,commentCount:ze(n),imageUrl:Ue(n),title:Be(n),url:X(Fe.o.ARTICLE),compact:d,disableUgc:_}),!_&&l.a.createElement(Ce,{id:R.id,spotId:a,postId:c,conversationId:m,onMouseEnter:function(){G(!0),C(),p({type:y.a.SET_READING_START,lastMeasured:Date.now()})},onMouseLeave:function(){S(),Y(),G(!1),p((function(e,t){var n=0,a=t().reading.lastMeasured;return a>0&&(n=Date.now()-a),e({type:y.a.SET_READING_STOP,readingTime:n})}))},onClick:V,large:N,small:M,userName:Te(n,R),userImageId:Ie(n,R),writtenAt:Pe(R),content:ke(R),likeCount:Ae(R),url:X(Fe.o.COMMENT),isSubscriber:xe(n,R)}))},ot=l.a.memo((function(e){var t=e.index,n=e.style,a=e.cardWidth,r=e.post,c=e.spotId,o=e.postId,i=e.conversationId,s=e.disableUgc,u=e.compact;return l.a.createElement("div",{style:n},l.a.createElement(S,{width:a,compact:u},l.a.createElement(ct,{index:t,post:r,spotId:c,postId:o,conversationId:i,disableUgc:s,compact:u})))})),it=n(439),lt=n.n(it),st=function(e){var t=e.className;return l.a.createElement("svg",{className:t,width:"10px",height:"12px",viewBox:"0 0 10 12",version:"1.1",preserveAspectRatio:"xMidYMid meet"},l.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},l.a.createElement("g",{transform:"translate(-508.000000, -268.000000)",fill:"#FFFFFF",fillRule:"nonzero"},l.a.createElement("g",{transform:"translate(497.000000, 260.000000)"},l.a.createElement("path",{d:"M11.3598156,18.2317787 C10.9355387,18.5853428 10.8782146,19.2159075 11.2317787,19.6401844 C11.5853428,20.0644613 12.2159075,20.1217854 12.6401844,19.7682213 L18.6401844,14.7682213 C19.1199385,14.3684262 19.1199385,13.6315738 18.6401844,13.2317787 L12.6401844,8.23177872 C12.2159075,7.87821464 11.5853428,7.9355387 11.2317787,8.3598156 C10.8782146,8.7840925 10.9355387,9.4146572 11.3598156,9.76822128 L16.4379501,14 L11.3598156,18.2317787 Z"})))))},ut=function(e,t){return Math.floor(100*e/t)},mt=n(27),_t=n(108),dt=function(e,t){var n=Object(i.useState)(!1),a=o()(n,2),r=a[0],c=a[1];Object(i.useEffect)((function(){c(!1)}),[e]),Object(i.useEffect)((function(){t&&c(!1)}),[t]);return[r,function(){return c(!0)}]},ft=n(440),pt=n.n(ft),vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Object(i.useMemo)((function(){return pt()(e,t)}),[e,t]);return Object(i.useEffect)((function(){return function(){return n.cancel()}}),[n]),n},bt=function(e){var t=e.className;return l.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},l.a.createElement("path",{d:"M231.293 473.899l19.799-19.799c4.686-4.686 4.686-12.284 0-16.971L70.393 256 251.092 74.87c4.686-4.686 4.686-12.284 0-16.971L231.293 38.1c-4.686-4.686-12.284-4.686-16.971 0L4.908 247.515c-4.686 4.686-4.686 12.284 0 16.971L214.322 473.9c4.687 4.686 12.285 4.686 16.971-.001z"}))},gt=function(e){var t=e.className;return l.a.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},l.a.createElement("path",{d:"M24.707 38.101L4.908 57.899c-4.686 4.686-4.686 12.284 0 16.971L185.607 256 4.908 437.13c-4.686 4.686-4.686 12.284 0 16.971L24.707 473.9c4.686 4.686 12.284 4.686 16.971 0l209.414-209.414c4.686-4.686 4.686-12.284 0-16.971L41.678 38.101c-4.687-4.687-12.285-4.687-16.971 0z"}))},Ot=n(443),ht=n.n(Ot);!function(e){e.Right="right",e.Left="left"}(rt||(rt={}));var Et,Ct,St=function(e){var t=e.side,n=e.show,a=e.onClick,c=Object(i.useState)(!1),s=o()(c,2),u=s[0],m=s[1],_=function(e){var a;return C()(e,(a={},r()(a,ht.a.left,t===rt.Left),r()(a,ht.a.right,t===rt.Right),r()(a,ht.a.hover,u),r()(a,ht.a.show,n),a))};return l.a.createElement("div",{className:_(ht.a.container),onClick:a},l.a.createElement("div",{className:_(ht.a.halfCircle),onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)}},t===rt.Right?l.a.createElement(gt,{className:_(ht.a.chevron)}):l.a.createElement(bt,{className:_(ht.a.chevron)})))};!function(e){e.SCROLL_TO="top",e.SCROLL_FROM_EDGE="scrollTop"}(Et||(Et={})),function(e){e.SCROLL_TO="left",e.SCROLL_FROM_EDGE="scrollLeft"}(Ct||(Ct={})),v.a.polyfill();var jt=f.a.get("tenant_config.pitc.remove_scroll_arrows",!1),yt=function(e,t){return t?x.d:e?x.i:x.c};t.default=function(e){var t=e.posts,n=e.spotId,a=e.postId,c=e.reversedOrder,d=e.cardWidth,f=e.width,p=e.height,v=e.updateAction,b=e.compact,O=e.disableUgc,h=e.itemSize,E=void 0===h?_t.a.ITEM_SIZE:h,C=e.overscan,S=void 0===C?_t.a.OVERSCAN:C,y=e.updateMargin,w=void 0===y?_t.c.UPDATE_MARGIN:y,L=e.layout,N=void 0===L?_t.a.LAYOUT:L,M=e.scrollBehavior,k=void 0===M?"smooth":M,R=e.direction,T=void 0===R?"ltr":R,I=e.updateRetryCondition,P=void 0!==I&&I,A=e.obscuredWidth,D=void 0===A?0:A,B=Object(s.useDispatch)(),U=Object(u.useTracking)(),z=Object(i.useState)(1),F=o()(z,2),W=F[0],G=F[1],H=Object(i.useState)(!1),Y=o()(H,2),V=Y[0],Z=Y[1],J=Object(i.useState)(0),q=o()(J,2),X=q[0],K=q[1],Q=Object(i.useState)(!1),$=o()(Q,2),ee=$[0],te=$[1],ne=Object(i.useState)(!1),ae=o()(ne,2),re=ae[0],ce=ae[1],oe=dt(t,P),ie=o()(oe,2),le=ie[0],se=ie[1],ue=Object(s.useSelector)(be.d),me=Object(s.useSelector)(be.c),_e=Object(s.useSelector)(ge.a),de=Object(i.useRef)(null),fe=Object(i.useRef)({scrollTo:function(e){},scrollLeft:0,scrollTop:0,clientWidth:0,clientHeight:0});Object(i.useEffect)((function(){me||mt.b.apm.end("critical_flow")}),[]),Object(i.useEffect)((function(){var e=ye();te(e)}),[t]),Object(i.useEffect)((function(){return v&&V&&!le&&(B(v()),se()),function(){Z(!1)}}),[v,V,le]);var pe=Object.keys(t).length,ve=Math.ceil(D/E),Oe=Object(i.useCallback)((function(e){return e===pe-1&&!_e&&b?E-yt(b,ue):E}),[pe,_e,b,ue]),he=function(e){return g.a.bind(lt.a)(e,{scrolledToEnd:ee,scrolled:re,isMobileOnly:m.isMobileOnly,isMobile:m.isMobile||m.isIPad13||m.isIPhone13,isVerticalView:ue})},Ee=function(e){var t,n,a,c,o;T===x.o.RTL?null===(t=de.current)||void 0===t||null===(n=t.scrollTo)||void 0===n||n.call(t,e*E):null===(a=(c=fe.current).scrollTo)||void 0===a||a.call(c,(o={},r()(o,ue?Et.SCROLL_TO:Ct.SCROLL_TO,e*E),r()(o,"behavior",k),o))},Ce=function(){U.trackEvent(r()({type:Fe.i},Fe.j,_t.b.backward)),Ee(X-W),Object(j.a)(x.p.onLeftArrowClick)},Se=function(){U.trackEvent(r()({type:Fe.i},Fe.j,_t.b.forward)),Ee(X+W),Object(j.a)(x.p.onRightArrowClick)},je=vt(Object(i.useCallback)((function(e){U.trackEvent(r()({type:Fe.m},Fe.j,e)),Object(mt.a)(Fe.m)}),[]),_t.d),ye=function(){var e=ue?Et.SCROLL_FROM_EDGE:Ct.SCROLL_FROM_EDGE,t=b?yt(b,ue):0;return pe*E-t-fe.current[e]-fe.current.clientWidth<=0},we=function(e){var r=e.index,o=e.style,i=(c?Object.keys(t).reverse():Object.keys(t))[r];return l.a.createElement(ot,{index:r,style:o,post:t[i],spotId:n,postId:a,conversationId:i,cardWidth:d,disableUgc:O,compact:b})};return l.a.createElement("div",{className:he(lt.a.carouselContainer)},b&&!m.isMobile&&!jt&&l.a.createElement(St,{show:re,side:rt.Left,onClick:Ce}),l.a.createElement(_.a,{direction:T,className:he(lt.a.carousel),ref:de,outerRef:fe,height:p,overscanCount:S,width:f,layout:N,itemCount:pe,estimatedItemSize:E,itemSize:Oe,onScroll:function(e){var t=e.scrollOffset,n=e.scrollDirection,a=t>0,r=ye();te(r),ce(a),a&&je(_t.b[n])},onItemsRendered:function(e){var t=e.visibleStartIndex,n=e.visibleStopIndex;K(t),Z(ut(n,pe)>=w),ue||G(Math.max(n-t-ve,1))}},we),b&&!m.isMobile&&!jt&&l.a.createElement(St,{show:!ee,side:rt.Right,onClick:Se}),!b&&!jt&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:he(lt.a.startSidebar)},l.a.createElement("div",{className:he(lt.a.leftButtonContainer)},l.a.createElement("div",{className:g()(lt.a.highlightedBackground)}),l.a.createElement("div",{"data-testid":_t.e.SCROLL_BACK,className:he(lt.a.startOval),onClick:Ce},l.a.createElement(st,{className:he(lt.a.startPath)}))),l.a.createElement("div",{className:he(lt.a.startSidebarShadow)})),l.a.createElement("div",{className:he(lt.a.endSidebar)},l.a.createElement("div",{className:he(lt.a.rightButtonContainer)},l.a.createElement("div",{className:g()(lt.a.highlightedBackground)}),l.a.createElement("div",{"data-testid":_t.e.SCROLL_FORWARD,className:he(lt.a.endOval),onClick:Se},l.a.createElement(st,{className:he(lt.a.endPath)}))),l.a.createElement("div",{className:he(lt.a.endSidebarShadow)}))))}}}]);
//# sourceMappingURL=2.js.map